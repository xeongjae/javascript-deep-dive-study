# 딥다이브 주차 별 정리

## 개요
### 1. 함수
### 2. 스코프
### 3. 전역 변수의 문제점
### 4. let, const 키워드와 블록 레벨 스코프
### 5. this
### 6. 실행 컨텍스트
### 7. 클로저
<br>

## 함수

프로그래밍 언어의 함수는 일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것.

<br>

**함수를 사용하는 이유?**
- 코드의 재사용면에서 매우 유용
- 유지보수의 편의성을 높이고 실수를 줄여 코드의 신뢰성을 높임
- 코드의 가독성을 향상시킴

<br/>

**1. 함수 선언문**
- 함수 이름을 생략할 수 없음 (기명 함수)
- 함수 선언문은 표현식이 아닌 문
- **함수 선언문이 호이스팅 됨**
```javascript
// 함수 선언문
function add(x, y) {
  return x + y;
}
```

**2. 함수 표현식**
- 자바스크립트의 함수는 **일급 객체**이므로 함수를 값처럼 자유롭게 사용할 수 있음
- **변수가 호이스팅이 됨**
```javascript
// 함수 표현식
var add = function (x, y) { // 함수 이름 생략 가능(익명 함수)
  return x + y;
};
```

**일급 객체**란? <br>
> 자바스크립트의 함수는 객체 타입의 값이다. <br>
자바스크립트의 함수는 값처럼 변수에 할당 할 수도 있고 프로퍼티 값이 될 수도 있으며 배열의 요소가 될 수 도 있다. <br>
이 처럼 **값의** 성질을 갖는 **객체를 일급 객체**라고 한다. <br>
즉, **자바스크립트의 함수는 일급객체다.** 함수가 일급객체라는 것은 함수를 값처럼 자유롭게 사용할 수 있다는 의미다.

<br>

**3. 화살표 함수 (ES6)**
- function 키워드 대신 화살표 `=>`를 사용해 좀 더 간략한 방법으로 함수를 선언
- 화살표 함수는 항상 익명 함수로 정의
```javascript
// 화살표 함수
const add = (x, y) => x + y;
```

<br/>

## 참조에 의한 전달과 외부 상태의 변경 / 함수형 프로그래밍
원시 값은 값에 의한 전달, 객체는 참조에 의한 전달 방식으로 동작. 매개변수도 함수 몸체 내부에서 변수와 동일하게 취급되므로 매개변수 또한 타입에 따라 값에 의하 전달, 참조에 의한 전달 방식을 그대로 따른다.

```javascript
      // 매개변수 primitive는 원시 값을 전달받고, 매개변수 obj는 객체를 전달받는다.
      function changeVal(primitive, obj) {
          primitive += 100
          obj.name = 'Kim'
        }

      // 외부 상태
      var num = 100;
      var person = { name : 'Lee' };

      console.log(num); // 100
      console.log(person);  // {name:"Lee"}

      // 원시 값은 자체가 복사되어 전달되고 객체는 참조 값이 복사되어 전달된다.
      changeVal(num, person);

      // 원시 값은 원본이 훼손되지 않는다.
      console.log(num); // 100

      // 참조 값(객체)은 원본이 훼손된다.
      console.log(person);  // {name:"Kim"}
```

위 코드에서 changeVal 함수는 매개변수를 통해 전달받은 원시 타입 인수와 객체 타입 인수를 **함수 몸체에서 변경한다.** <br>
엄밀히 말하자면 원시 타입 인수 primitive의 경우 직접 변경할 수 없기 때문에 재할당을 통해 할당된 원시 값을 새로운 값으로 교체.
객체 타입의 인수 obj 경우 객체(참조 타입의) 값은 변경 가능한 값이므로 재할당 없이 직접 할당된 객체를 변경했다. <br>

<br>

**다시 말해 함수 몸체에서 원본이 훼손되지 않는 경우와 되는 경우는**
- 원시 타입 인수는 값 자체가 복사되어 매개변수에 전달되기 때문에 함수 몸체에서 그 값을 변경해도 원본은 훼손되지 않는다.
- 참조 타입 인수는 참조 값이 복사되어 매개변수에 전달되기 때문에 함수 몸체에서 참조 값을 통해 객체를 변경할 경우 원본이 훼손된다.
<br>
이처럼 함수가 외부 상태를 변경하면 상태 변화를 추적하기 어려워진다. 이는 코드의 복잡성을 증가시키고 가독성을 해치는 원인이 된다.
<br>

외부 상태를 변경하지 않고 외부 상태에 의존하지도 않는 함수를 순수 함수라 한다. 순수 함수를 통해 부수 효과를 최대한 억제하여 오류를 피하고 프로그램의 안정성을 높이려는 프로그래밍 패러다임을 **함수형 프로그래밍이라** 한다.

<br>

## 스코프
