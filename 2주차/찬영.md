# 함수
## 함수란?
- 함수는 **일련의 과정을 문으로 구현**하고 **코드 블록으로 감싸서 하나의 실행 단위로 정의한 것**
- 함수를 입력 받아서 출력을 내보낸다
	- 함수를 내부로 입력 전달받는 변수 : 매개변수
	- 입력 : 인수
	- 출력 : 반환값

<img src="https://velog.velcdn.com/images/jjinichoi/post/05a72a2c-8a54-40a9-92c9-ddeff943b29c/image.png" width="400px">

- 함수는 **함수 정의**를 통해 생성
- 인수를 매개변수를 통해 전달하면서 함수의 실행을 명시적으로 지시하여 **함수 호출**
- 함수 호출하면 코드 블록에 담긴 문들이 실행하여 반환값을 반환
```javascript
// 함수 선언문을 통한 함수 정의 
function add(x, y) {
  return x + y;
}

// 함수 호출
var result = add(2, 5);

console.log(result); // 7
```

## 함수 정의
- 함수 정의란 함수를 호출하기 이전에 인수를 전달받을 매개변수와 실행할 문, 반환할 값을 지정하는 것
- 정의된 함수는 자바스크립트 엔진에 의해 평가되어 함수 객체가 된다

<img src="https://velog.velcdn.com/images/jjinichoi/post/0a642de1-435a-47b9-8d55-0a8caf253cee/image.png" width="400px">

## 함수 호출
- 함수를 가리키는 식별자와 한쌍의 소괄호`()`인 함수 호출 연산자로 호출
- -   함수 호출을 하면 현재의 실행 흐름을 중단하고 호출된 함수로 실행 흐름을 옮긴다.

<img src="https://velog.velcdn.com/images/jjinichoi/post/2dffb77b-d321-45d3-9f86-0bee2af0323c/image.png" width="400px">

## 즉시 실행 함수
- 함수 정의와 동시에 즉시 호출되는 함수
- 단 한 번만 호출되며 다시 호출할 수 없다.
```javascript
//익명 즉시 실행 함수
(function () {
  var a = 3;
  var b = 5;
  return a*b;
} ());
```

## 중첩 함수
- 함수 내부에 정의된 함수
- 중첨 함수를 포함하는 함수는 **외부 함수**
- 중첨 함수는 외부 함수 내부에서만 호출
```javascript
function outer() {
  var x = 1;

  // 중첩 함수
  function inner() {
    var y = 2;
    // 외부 함수의 변수를 참조할 수 있다.
    console.log(x + y); // 3
  }

  inner();
}

outer();
```

## 콜백 함수
-  함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수를  **콜백 함수**
-   매개변수를 통해 함수의 외부에서  **콜백 함수를 전달받은 함수를 고차 함수**
-   **고차 함수는 콜백 함수를 자신의 일부분으로 합성**
-   **고차 함수는 매개변수를 통해 전달받은 콜백 함수의 호출 시점을 결정**해서 호출한다.
-   콜백 함수는 고차 함수에 의해 호출되며 이때  **고차 함수는 필요에 따라 함수에 인수를 전달**할 수 있다.

```javascript
// 외부에서 전달받은 f를 n만큼 반복 호출한다
function repeat(n, f) {
  for (var i = 0; i < n; i++) {
    f(i); // i를 전달하면서 f를 호출
  }
}

var logAll = function (i) {
  console.log(i);
};

// 반복 호출할 함수를 인수로 전달한다.
repeat(5, logAll); // 0 1 2 3 4

var logOdds = function (i) {
  if (i % 2) console.log(i);
};

// 반복 호출할 함수를 인수로 전달한다.
repeat(5, logOdds); // 1 3
```

-   콜백 함수는 함수형 프로그래밍 패러다임뿐만 아니라  **비동기 처리(이벤트 처리, Ajax 통신, 타이머 함수 등)에 활용되는 중요한 패턴!**


# 스코프
## 스코프란?
- 스코프는 식별자가 유효한 범위
- **코드 문맥과 환경**  
"코드가 어디서 실행되며 주변에 어떤 코드가 있는지"를 렉시컬 환경 이라고 부른다.  
즉, 코드의 문맥은 **렉시컬 환경**으로 이뤄진다.
이를 구현한 것이 **실행 컨텍스트**이며, 모든 코드는 실행 컨텍스트에서 평가되고 실행된다.
## 스코프의 종류

| 구분 | 설명 | 스코프| 변수 |
|--|--|--|--|
| 전역 |코드의 가장 바깥 영역  |전역 스코프| 전역 변수(전역 변수는 어디서든지 참조할 수 있다.) |
| 지역 | 함수 몸체 내부 |지역 스코프|지역 변수(지역변수는 자신의 지역 스코프와 하위 스코프에서 유효하다.) |  
<br>
 <img src="https://velog.velcdn.com/images/jjinichoi/post/ffd5d953-793e-47ce-9fa1-535ce26380b8/image.png" width="400px">
  
  ## 스코프 체인
  -   스코프는 함수의 중첩에 의해 계층적인 구조갖고 스코프가 계층적으로 연결된 것을 스코프 체인이라고 한다.
-   **변수를 참조할 때 자바스크립트 엔진은 스코프 체인을 통해 변수를 참조하는 코드의 스코프에서 시작하여  
    상위 스코프 방향으로 이동하며 선언된 변수를 검색**한다.
-   이를 통해 상위 스코프에서 선언한 변수를 하위 스코프에서도 참조할 수 있다.
# let,const 키워드와 블록 레벨 스코프
## var vs. let vs. const
-   변수를 선언할 때는 기본적으로 `const`  키워드를 사용하고  `let`  키워드는 재할당이 필요한 경우에 한정해 사용하는 것이 좋다.
    -   ES6를 사용한다면  **`var`  키워드 X
    -   재할당이 필요한 경우에 한정해  `let`  키워드를 사용, 이때 변수의 스코프는 최대한 좁게 만든다.
    -   변경이 발생하지 않고 읽기 전용으로 사용하는(재할당이 필요 없는 상수) 원시 값과 객체에는  `const`  키워드를 사용,
 **`const`  키워드는 재할당을 금지하므로  `var`,  `let`키워드보다 안전**

#  this
## this 키워드
- 자신이 속한 객체를 가리키는 식별자를 참조할 수 있어야 한다.
- this는 **자신이 속한 객체 또는 자신이 생성할 인스턴스를 가리키는 자기 참조 변수**
##  함수 호출방식과 this 바인딩
- this가 가리키는 값, 즉 **this 바인딩은
함수 호출 방식에 의해 동적으로 결정**


 <img src="https://velog.velcdn.com/images/jjinichoi/post/0acc9970-03b1-4aa0-b740-467bd82defb7/image.png" width="400px">
 

# 실행 컨텍스트
- 실행 컨텍스트는 자바스크립트의 동작 원리를 담고 있는 핵심 개념
- 자바스크립트 엔진은 소스코드를 **"소스코드의 평가"와 "소스코드의 실행" 과정**으로 나누어 처리

<img src="https://velog.velcdn.com/images/jjinichoi/post/1c231381-ab2e-4485-925d-acc7f1079183/image.png" width="400px">
 

# 클로저
- 클로저는 함수와 함수가 선언된 렉시컬 환경과의 조합
-  클로저는  **상태를 안전하게 변경하고 유지하기 위해 사용** <br>
=> **상태가 의도치 않게 변경되지 않도록 상태를 안전하게 은익하고 특정 함수에게만 상태 변경을 허용하기 위해 사용**한다.

